# ===========================================
# Safety Road - Application Configuration
# ===========================================
spring.application.name=safety-road-inclass

# Application Info
info.app.version=0.0.1-SNAPSHOT
info.app.name=Safety Road InClass

# Active Profile (dev: H2, mysql: MySQL)
# CloudType에서는 prod 프로파일 사용 (환경 변수로 설정 가능)
spring.profiles.active=${SPRING_PROFILES_ACTIVE:dev}

# ===========================================
# Server Configuration
# ===========================================
# CloudType은 PORT 환경 변수를 제공합니다
server.port=${PORT:8080}
server.servlet.context-path=/
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000,http://localhost:3002,http://localhost:5173,http://localhost:5174}

# ===========================================
# JPA / Hibernate Common Settings
# ===========================================
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.default_batch_fetch_size=10

# ===========================================
# Jackson (JSON) Configuration
# ===========================================
spring.jackson.property-naming-strategy=LOWER_CAMEL_CASE
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=Asia/Seoul

# ===========================================
# File Upload Configuration
# ===========================================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=50MB

# ===========================================
# Swagger / OpenAPI Configuration
# ===========================================
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui
springdoc.swagger-ui.operations-sorter=alpha
springdoc.swagger-ui.tags-sorter=alpha

# ===========================================
# JWT Configuration
# ===========================================
# Base64 encoded secret key (minimum 256 bits for HS256)
jwt.secret=c2FmZXR5LXJvYWQtand0LXNlY3JldC1rZXktZm9yLWRldmVsb3BtZW50LW9ubHktMjAyNS0xMi0wNg==
# Access Token: 1 hour (3600000 ms)
jwt.access-token-expiration=3600000
# Refresh Token: 7 days (604800000 ms)
jwt.refresh-token-expiration=604800000

# ===========================================
# Spring AI - Google Gemini Configuration
# ===========================================
# API Key는 환경변수 사용 권장
spring.ai.google.gemini.api-key=${GEMINI_API_KEY}
# 문서 보강 속도와 비용 효율성을 고려해 flash 모델 권장
spring.ai.google.gemini.model=gemini-2.5-flash-lite
# 창의성 조절 (0.8은 문서 보강에 적합)
spring.ai.google.gemini.chat.options.temperature=0.8
spring.ai.google.gemini.chat.options.top-p=0.9

# ===========================================
# Legacy Gemini API Configuration
# ===========================================
# 기존 코드와의 호환성을 위해 유지
# API Key는 환경변수 GEMINI_API_KEY로 설정
# API Key 직접 설정 (환경변수 충돌 방지)
custom.gemini.key=${GEMINI_API_KEY:AIzaSyDl8iM56ICVcVg7-NF9ZC55unsKP3mXOu8}
gemini.api.url=https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent
gemini.api.timeout=30000

# ===========================================
# Logging Configuration
# ===========================================
logging.level.root=INFO
logging.level.com.jinsung.safety_road_inclass=DEBUG
logging.level.com.jinsung.safety_road_inclass.domain.ai=DEBUG
logging.level.com.jinsung.safety_road_inclass.domain.ai.controller.BusinessPlanController=DEBUG
logging.level.com.jinsung.safety_road_inclass.domain.ai.service.BusinessPlanService=DEBUG
logging.level.com.jinsung.safety_road_inclass.domain.ai.service.GeminiService=DEBUG

# Hibernate SQL 로그
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# 로그 파일 경로
logging.file.name=./logs/safety-road.log
logging.file.max-size=100MB
logging.file.max-history=30
